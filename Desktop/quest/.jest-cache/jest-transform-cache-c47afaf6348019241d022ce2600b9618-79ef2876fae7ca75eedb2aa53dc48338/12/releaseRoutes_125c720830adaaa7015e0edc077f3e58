9c5066391d3476a045988419103edb4b
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const releaseController_1 = require("../controllers/releaseController");
const router = (0, express_1.Router)();
// 기본 CRUD 라우트 - 구체적인 라우트를 먼저 정의
router.get('/', releaseController_1.releaseController.getAllReleases);
router.get('/search', releaseController_1.releaseController.searchReleases);
router.get('/status/:status', releaseController_1.releaseController.getReleasesByStatus);
router.get('/project/:projectId', releaseController_1.releaseController.getReleasesByProject);
router.get('/testcases/folders', releaseController_1.releaseController.getTestFolders);
router.get('/folders/:folderId/testcases', releaseController_1.releaseController.getFolderTestCases);
router.post('/', releaseController_1.releaseController.createRelease);
// 테스트케이스 상태 변경 라우트 - :id 라우트보다 먼저 정의
router.put('/:id/testcases/:testCaseId/status', releaseController_1.releaseController.updateTestCaseStatus);
router.get('/:id/testcases', releaseController_1.releaseController.getReleaseTestCases);
router.delete('/:id/testcases', releaseController_1.releaseController.deleteReleaseTestCases);
router.post('/:releaseId/testcases', releaseController_1.releaseController.addTestCasesToRelease);
// 실행 통계 라우트
router.get('/:id/execution-stats', releaseController_1.releaseController.getReleaseExecutionStats);
router.put('/:id/execution-stats', releaseController_1.releaseController.updateReleaseExecutionStats);
// 일반적인 CRUD 라우트 - 가장 마지막에 정의
router.get('/:id', releaseController_1.releaseController.getReleaseById);
router.put('/:id', releaseController_1.releaseController.updateRelease);
router.delete('/:id', releaseController_1.releaseController.deleteRelease);
// 통계 및 분석 라우트
router.get('/:id/statistics', releaseController_1.releaseController.getReleaseStatistics);
// 게이트 기준 관리
router.put('/:id/gate-criteria', releaseController_1.releaseController.updateGateCriteria);
// 릴리즈 케이스 관리
router.put('/:releaseId/cases/:caseId', releaseController_1.releaseController.updateReleaseCase);
// 실행 결과 관리
router.post('/:releaseId/runs', releaseController_1.releaseController.saveRun);
// 결함 관리
router.post('/:releaseId/defects', releaseController_1.releaseController.addDefectLink);
// 환경 관리
router.put('/:releaseId/environment', releaseController_1.releaseController.updateEnvironment);
// 가져온 폴더 관리 라우트
router.get('/:id/imported-folders', releaseController_1.releaseController.getImportedFolders);
router.post('/:id/imported-folders', releaseController_1.releaseController.addImportedFolders);
router.delete('/:id/imported-folders/:folderId', releaseController_1.releaseController.removeImportedFolder);
// 개발용 라우트
router.post('/load-initial-data', releaseController_1.releaseController.loadInitialData);
exports.default = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0RvY3VtZW50cy9xdWVzdC9EZXNrdG9wL3F1ZXN0L3NyYy9tYWluL2FwcC9kb21haW5zL3JlbGVhc2VzL3JvdXRlcy9yZWxlYXNlUm91dGVzLnRzIiwibWFwcGluZ3MiOiI7O0FBQUEscUNBQWlDO0FBQ2pDLHdFQUFxRTtBQUVyRSxNQUFNLE1BQU0sR0FBRyxJQUFBLGdCQUFNLEdBQUUsQ0FBQztBQUV4QixnQ0FBZ0M7QUFDaEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUscUNBQWlCLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDbEQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUscUNBQWlCLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDeEQsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxxQ0FBaUIsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0FBQ3JFLE1BQU0sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUscUNBQWlCLENBQUMsb0JBQW9CLENBQUMsQ0FBQztBQUMxRSxNQUFNLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLHFDQUFpQixDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQ25FLE1BQU0sQ0FBQyxHQUFHLENBQUMsOEJBQThCLEVBQUUscUNBQWlCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUNqRixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxxQ0FBaUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUVsRCxxQ0FBcUM7QUFDckMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxtQ0FBbUMsRUFBRSxxQ0FBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBQ3hGLE1BQU0sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUscUNBQWlCLENBQUMsbUJBQW1CLENBQUMsQ0FBQztBQUNwRSxNQUFNLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLHFDQUFpQixDQUFDLHNCQUFzQixDQUFDLENBQUM7QUFDMUUsTUFBTSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxxQ0FBaUIsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBRTlFLFlBQVk7QUFDWixNQUFNLENBQUMsR0FBRyxDQUFDLHNCQUFzQixFQUFFLHFDQUFpQixDQUFDLHdCQUF3QixDQUFDLENBQUM7QUFDL0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxxQ0FBaUIsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBRWxGLDZCQUE2QjtBQUM3QixNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxxQ0FBaUIsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNyRCxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxxQ0FBaUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUNwRCxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxxQ0FBaUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUV2RCxjQUFjO0FBQ2QsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxxQ0FBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBRXRFLFlBQVk7QUFDWixNQUFNLENBQUMsR0FBRyxDQUFDLG9CQUFvQixFQUFFLHFDQUFpQixDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFFdkUsYUFBYTtBQUNiLE1BQU0sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLEVBQUUscUNBQWlCLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUU3RSxXQUFXO0FBQ1gsTUFBTSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxxQ0FBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUUzRCxRQUFRO0FBQ1IsTUFBTSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxxQ0FBaUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUVwRSxRQUFRO0FBQ1IsTUFBTSxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsRUFBRSxxQ0FBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBRTNFLGdCQUFnQjtBQUNoQixNQUFNLENBQUMsR0FBRyxDQUFDLHVCQUF1QixFQUFFLHFDQUFpQixDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFDMUUsTUFBTSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxxQ0FBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBQzNFLE1BQU0sQ0FBQyxNQUFNLENBQUMsaUNBQWlDLEVBQUUscUNBQWlCLENBQUMsb0JBQW9CLENBQUMsQ0FBQztBQUV6RixVQUFVO0FBQ1YsTUFBTSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxxQ0FBaUIsQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUVyRSxrQkFBZSxNQUFNLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzLzNpLWExLTIwMjEtMDE3L0RvY3VtZW50cy9xdWVzdC9EZXNrdG9wL3F1ZXN0L3NyYy9tYWluL2FwcC9kb21haW5zL3JlbGVhc2VzL3JvdXRlcy9yZWxlYXNlUm91dGVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgcmVsZWFzZUNvbnRyb2xsZXIgfSBmcm9tICcuLi9jb250cm9sbGVycy9yZWxlYXNlQ29udHJvbGxlcic7XG5cbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xuXG4vLyDquLDrs7ggQ1JVRCDrnbzsmrDtirggLSDqtazssrTsoIHsnbgg65287Jqw7Yq466W8IOuovOyggCDsoJXsnZhcbnJvdXRlci5nZXQoJy8nLCByZWxlYXNlQ29udHJvbGxlci5nZXRBbGxSZWxlYXNlcyk7XG5yb3V0ZXIuZ2V0KCcvc2VhcmNoJywgcmVsZWFzZUNvbnRyb2xsZXIuc2VhcmNoUmVsZWFzZXMpO1xucm91dGVyLmdldCgnL3N0YXR1cy86c3RhdHVzJywgcmVsZWFzZUNvbnRyb2xsZXIuZ2V0UmVsZWFzZXNCeVN0YXR1cyk7XG5yb3V0ZXIuZ2V0KCcvcHJvamVjdC86cHJvamVjdElkJywgcmVsZWFzZUNvbnRyb2xsZXIuZ2V0UmVsZWFzZXNCeVByb2plY3QpO1xucm91dGVyLmdldCgnL3Rlc3RjYXNlcy9mb2xkZXJzJywgcmVsZWFzZUNvbnRyb2xsZXIuZ2V0VGVzdEZvbGRlcnMpO1xucm91dGVyLmdldCgnL2ZvbGRlcnMvOmZvbGRlcklkL3Rlc3RjYXNlcycsIHJlbGVhc2VDb250cm9sbGVyLmdldEZvbGRlclRlc3RDYXNlcyk7XG5yb3V0ZXIucG9zdCgnLycsIHJlbGVhc2VDb250cm9sbGVyLmNyZWF0ZVJlbGVhc2UpO1xuXG4vLyDthYzsiqTtirjsvIDsnbTsiqQg7IOB7YOcIOuzgOqyvSDrnbzsmrDtirggLSA6aWQg65287Jqw7Yq467O064ukIOuovOyggCDsoJXsnZhcbnJvdXRlci5wdXQoJy86aWQvdGVzdGNhc2VzLzp0ZXN0Q2FzZUlkL3N0YXR1cycsIHJlbGVhc2VDb250cm9sbGVyLnVwZGF0ZVRlc3RDYXNlU3RhdHVzKTtcbnJvdXRlci5nZXQoJy86aWQvdGVzdGNhc2VzJywgcmVsZWFzZUNvbnRyb2xsZXIuZ2V0UmVsZWFzZVRlc3RDYXNlcyk7XG5yb3V0ZXIuZGVsZXRlKCcvOmlkL3Rlc3RjYXNlcycsIHJlbGVhc2VDb250cm9sbGVyLmRlbGV0ZVJlbGVhc2VUZXN0Q2FzZXMpO1xucm91dGVyLnBvc3QoJy86cmVsZWFzZUlkL3Rlc3RjYXNlcycsIHJlbGVhc2VDb250cm9sbGVyLmFkZFRlc3RDYXNlc1RvUmVsZWFzZSk7XG5cbi8vIOyLpO2WiSDthrXqs4Qg65287Jqw7Yq4XG5yb3V0ZXIuZ2V0KCcvOmlkL2V4ZWN1dGlvbi1zdGF0cycsIHJlbGVhc2VDb250cm9sbGVyLmdldFJlbGVhc2VFeGVjdXRpb25TdGF0cyk7XG5yb3V0ZXIucHV0KCcvOmlkL2V4ZWN1dGlvbi1zdGF0cycsIHJlbGVhc2VDb250cm9sbGVyLnVwZGF0ZVJlbGVhc2VFeGVjdXRpb25TdGF0cyk7XG5cbi8vIOydvOuwmOyggeyduCBDUlVEIOudvOyasO2KuCAtIOqwgOyepSDrp4jsp4Drp4nsl5Ag7KCV7J2YXG5yb3V0ZXIuZ2V0KCcvOmlkJywgcmVsZWFzZUNvbnRyb2xsZXIuZ2V0UmVsZWFzZUJ5SWQpO1xucm91dGVyLnB1dCgnLzppZCcsIHJlbGVhc2VDb250cm9sbGVyLnVwZGF0ZVJlbGVhc2UpO1xucm91dGVyLmRlbGV0ZSgnLzppZCcsIHJlbGVhc2VDb250cm9sbGVyLmRlbGV0ZVJlbGVhc2UpO1xuXG4vLyDthrXqs4Qg67CPIOu2hOyEnSDrnbzsmrDtirhcbnJvdXRlci5nZXQoJy86aWQvc3RhdGlzdGljcycsIHJlbGVhc2VDb250cm9sbGVyLmdldFJlbGVhc2VTdGF0aXN0aWNzKTtcblxuLy8g6rKM7J207Yq4IOq4sOykgCDqtIDrpqxcbnJvdXRlci5wdXQoJy86aWQvZ2F0ZS1jcml0ZXJpYScsIHJlbGVhc2VDb250cm9sbGVyLnVwZGF0ZUdhdGVDcml0ZXJpYSk7XG5cbi8vIOumtOumrOymiCDsvIDsnbTsiqQg6rSA66asXG5yb3V0ZXIucHV0KCcvOnJlbGVhc2VJZC9jYXNlcy86Y2FzZUlkJywgcmVsZWFzZUNvbnRyb2xsZXIudXBkYXRlUmVsZWFzZUNhc2UpO1xuXG4vLyDsi6Ttlokg6rKw6rO8IOq0gOumrFxucm91dGVyLnBvc3QoJy86cmVsZWFzZUlkL3J1bnMnLCByZWxlYXNlQ29udHJvbGxlci5zYXZlUnVuKTtcblxuLy8g6rKw7ZWoIOq0gOumrFxucm91dGVyLnBvc3QoJy86cmVsZWFzZUlkL2RlZmVjdHMnLCByZWxlYXNlQ29udHJvbGxlci5hZGREZWZlY3RMaW5rKTtcblxuLy8g7ZmY6rK9IOq0gOumrFxucm91dGVyLnB1dCgnLzpyZWxlYXNlSWQvZW52aXJvbm1lbnQnLCByZWxlYXNlQ29udHJvbGxlci51cGRhdGVFbnZpcm9ubWVudCk7XG5cbi8vIOqwgOyguOyYqCDtj7TrjZQg6rSA66asIOudvOyasO2KuFxucm91dGVyLmdldCgnLzppZC9pbXBvcnRlZC1mb2xkZXJzJywgcmVsZWFzZUNvbnRyb2xsZXIuZ2V0SW1wb3J0ZWRGb2xkZXJzKTtcbnJvdXRlci5wb3N0KCcvOmlkL2ltcG9ydGVkLWZvbGRlcnMnLCByZWxlYXNlQ29udHJvbGxlci5hZGRJbXBvcnRlZEZvbGRlcnMpO1xucm91dGVyLmRlbGV0ZSgnLzppZC9pbXBvcnRlZC1mb2xkZXJzLzpmb2xkZXJJZCcsIHJlbGVhc2VDb250cm9sbGVyLnJlbW92ZUltcG9ydGVkRm9sZGVyKTtcblxuLy8g6rCc67Cc7JqpIOudvOyasO2KuFxucm91dGVyLnBvc3QoJy9sb2FkLWluaXRpYWwtZGF0YScsIHJlbGVhc2VDb250cm9sbGVyLmxvYWRJbml0aWFsRGF0YSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwidmVyc2lvbiI6M30=