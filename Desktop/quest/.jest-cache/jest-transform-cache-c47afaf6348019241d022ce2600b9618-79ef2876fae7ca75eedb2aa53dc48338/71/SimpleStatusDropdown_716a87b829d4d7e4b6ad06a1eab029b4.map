{"file":"/Users/3i-a1-2021-017/Documents/quest/Desktop/quest/src/renderer/features/ReleaseManagementV2/components/SimpleStatusDropdown.tsx","mappings":"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","names":[],"sources":["/Users/3i-a1-2021-017/Documents/quest/Desktop/quest/src/renderer/features/ReleaseManagementV2/components/SimpleStatusDropdown.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport styled from 'styled-components';\n\ninterface SimpleStatusDropdownProps {\n  testCaseId: string;\n  currentStatus: string;\n  onStatusChange: (testCaseId: string, newStatus: string) => void;\n}\n\nconst DropdownContainer = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\nconst DropdownButton = styled.button<{ status: string }>`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  border: 1px solid #e2e8f0;\n  border-radius: 6px;\n  background: white;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.2s;\n  min-width: 120px;\n  justify-content: space-between;\n\n  &:hover {\n    border-color: #cbd5e1;\n    background: #f8fafc;\n  }\n\n  &:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  .status-text {\n    color: ${({ status }) => {\n      switch (status) {\n        case 'Pass': return '#10b981';\n        case 'Fail': return '#ef4444';\n        case 'Block': return '#f59e0b';\n        case 'Skip': return '#8b5cf6';\n        default: return '#6b7280';\n      }\n    }};\n  }\n\n  .arrow {\n    transition: transform 0.2s;\n    color: #6b7280;\n  }\n\n  &.open .arrow {\n    transform: rotate(180deg);\n  }\n`;\n\nconst DropdownMenuPortal = styled.div<{ position: { top: number; left: number } }>`\n  position: fixed;\n  top: ${({ position }) => position.top}px;\n  left: ${({ position }) => position.left}px;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 6px;\n  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n  z-index: 999999;\n  margin-top: 4px;\n  min-width: 120px;\n  animation: dropdownFadeIn 0.2s ease-out;\n  \n  @keyframes dropdownFadeIn {\n    from {\n      opacity: 0;\n      transform: translateY(-10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n`;\n\nconst DropdownItem = styled.div<{ isSelected: boolean }>`\n  padding: 10px 12px;\n  cursor: pointer;\n  font-size: 14px;\n  color: ${({ isSelected }) => (isSelected ? 'white' : '#374151')};\n  background: ${({ isSelected }) => (isSelected ? '#3b82f6' : 'transparent')};\n  transition: all 0.2s;\n\n  &:hover {\n    background: ${({ isSelected }) => (isSelected ? '#3b82f6' : '#f3f4f6')};\n  }\n\n  &:first-child {\n    border-radius: 6px 6px 0 0;\n  }\n\n  &:last-child {\n    border-radius: 0 0 6px 6px;\n  }\n\n  &:not(:last-child) {\n    border-bottom: 1px solid #f3f4f6;\n  }\n`;\n\nconst STATUS_OPTIONS = [\n  { value: 'Pass', label: 'Pass', color: '#10b981' },\n  { value: 'Fail', label: 'Fail', color: '#ef4444' },\n  { value: 'Block', label: 'Block', color: '#f59e0b' },\n  { value: 'Skip', label: 'Skip', color: '#8b5cf6' },\n];\n\nconst SimpleStatusDropdown: React.FC<SimpleStatusDropdownProps> = ({\n  testCaseId,\n  currentStatus,\n  onStatusChange,\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  // 외부 클릭 시 드롭다운 닫기\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as Node;\n      \n      // 버튼이나 메뉴 내부 클릭이 아닌 경우에만 닫기\n      if (\n        buttonRef.current && \n        !buttonRef.current.contains(target) &&\n        menuRef.current && \n        !menuRef.current.contains(target)\n      ) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  const handleStatusSelect = (newStatus: string) => {\n    console.log('=== 간단한 드롭다운 상태 변경 ===');\n    console.log('테스트케이스 ID:', testCaseId);\n    console.log('현재 상태:', currentStatus);\n    console.log('새로운 상태:', newStatus);\n    \n    // 즉시 드롭다운 닫기\n    setIsOpen(false);\n    \n    // 상태 변경 콜백 호출\n    onStatusChange(testCaseId, newStatus);\n    \n    console.log('=== 상태 변경 완료 ===');\n  };\n\n  const handleButtonClick = (e: React.MouseEvent) => {\n    e.stopPropagation(); // 이벤트 버블링 방지\n    \n    if (buttonRef.current) {\n      const rect = buttonRef.current.getBoundingClientRect();\n      setPosition({\n        top: rect.bottom + 4, // 약간의 간격\n        left: rect.left\n      });\n    }\n    \n    setIsOpen(!isOpen);\n  };\n\n  const handleItemClick = (e: React.MouseEvent, newStatus: string) => {\n    e.stopPropagation(); // 이벤트 버블링 방지\n    handleStatusSelect(newStatus);\n  };\n\n  const getStatusDisplay = (status: string) => {\n    const option = STATUS_OPTIONS.find(opt => opt.value === status);\n    return option || { value: status, label: status, color: '#6b7280' };\n  };\n\n  const currentStatusDisplay = getStatusDisplay(currentStatus);\n\n  return (\n    <>\n      <DropdownContainer>\n        <DropdownButton\n          ref={buttonRef}\n          status={currentStatus}\n          className={isOpen ? 'open' : ''}\n          onClick={handleButtonClick}\n          type=\"button\"\n        >\n          <span className=\"status-text\">{currentStatusDisplay.label}</span>\n          <span className=\"arrow\">▼</span>\n        </DropdownButton>\n      </DropdownContainer>\n      \n      {isOpen && createPortal(\n        <DropdownMenuPortal \n          ref={menuRef}\n          position={position}\n        >\n          {STATUS_OPTIONS.map((option) => (\n            <DropdownItem\n              key={option.value}\n              isSelected={currentStatus === option.value}\n              onClick={(e) => handleItemClick(e, option.value)}\n            >\n              {option.label}\n            </DropdownItem>\n          ))}\n        </DropdownMenuPortal>,\n        document.body\n      )}\n    </>\n  );\n};\n\nexport default SimpleStatusDropdown;\n"],"version":3}